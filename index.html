<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PrimeCast • TV Brasileira Premium</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://unpkg.com/video.js/dist/video-js.min.css" rel="stylesheet" />
  <script src="https://unpkg.com/video.js/dist/video.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <script src="https://cdn.jsdelivr.net/npm/videojs-contrib-quality-levels@latest/dist/videojs-contrib-quality-levels.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/videojs-hls-quality-selector@latest/dist/videojs-hls-quality-selector.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: radial-gradient(ellipse at center, #0f1419 0%, #000000 70%);
      color: #ffffff;
      overflow-x: hidden;
    }
    
    /* Fullscreen player styles */
    body.player-active {
      overflow: hidden !important;
      position: fixed !important;
      width: 100% !important;
      height: 100% !important;
    }

    /* Background animado */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 40% 80%, rgba(120, 200, 255, 0.1) 0%, transparent 50%);
      animation: backgroundMove 20s ease-in-out infinite;
      z-index: -1;
    }

    @keyframes backgroundMove {
      0%, 100% { transform: scale(1) rotate(0deg); }
      50% { transform: scale(1.1) rotate(5deg); }
    }

    /* Header moderno */
    .header-glass {
      backdrop-filter: blur(20px);
      background: rgba(15, 20, 25, 0.8);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    /* Search bar moderna */
    .search-container {
      position: relative;
    }

    .search-input {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
    }

    .search-input:focus {
      background: rgba(255, 255, 255, 0.15);
      border-color: rgba(120, 200, 255, 0.5);
      box-shadow: 0 0 20px rgba(120, 200, 255, 0.2);
      outline: none;
    }

    /* Categorias modernas */
    .category-container {
      backdrop-filter: blur(10px);
      background: rgba(0, 0, 0, 0.3);
    }

    .category-btn {
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .category-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s;
    }

    .category-btn:hover::before {
      left: 100%;
    }

    .category-btn.active {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      box-shadow: 0 8px 32px rgba(102, 126, 234, 0.3);
    }

    .category-btn:not(.active):hover {
      background: rgba(255, 255, 255, 0.1);
      transform: translateY(-2px);
    }

    /* Cards dos canais */
    .channel-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
      gap: 20px;
    }

    .channel-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 20px;
      transition: all 0.3s ease;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .channel-card.offline {
      opacity: 0.5;
      filter: grayscale(100%);
    }

    .channel-card.offline:hover {
      transform: none;
      opacity: 0.6;
    }

    .channel-card::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(120, 200, 255, 0.1) 0%, transparent 70%);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .channel-card:hover::before {
      opacity: 1;
    }

    .channel-card:hover {
      transform: translateY(-8px) scale(1.02);
      border-color: rgba(120, 200, 255, 0.3);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3), 0 0 20px rgba(120, 200, 255, 0.2);
    }

    .channel-logo {
      width: 64px;
      height: 64px;
      border-radius: 12px;
      object-fit: contain;
      margin: 0 auto 12px;
      filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
    }

    .channel-name {
      font-size: 0.875rem;
      font-weight: 500;
      text-align: center;
      line-height: 1.4;
    }

    /* Live indicator */
    .live-indicator {
      position: absolute;
      top: 8px;
      right: 8px;
      color: white;
      font-size: 0.7rem;
      padding: 2px 8px;
      border-radius: 12px;
      font-weight: 600;
    }

    .live-indicator.online {
      background: linear-gradient(45deg, #ff4444, #ff6b6b);
      animation: pulse 2s infinite;
    }

    .live-indicator.offline {
      background: linear-gradient(45deg, #6b7280, #9ca3af);
      animation: none;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }

    /* Player moderno */
    .player-overlay {
      background: rgba(0, 0, 0, 0.95);
      backdrop-filter: blur(20px);
      transition: all 0.4s ease;
      width: 100vw !important;
      height: 100vh !important;
      max-width: 100vw !important;
      max-height: 100vh !important;
      overflow: hidden !important;
    }

    /* Video.js personalizado */
    .video-js.vjs-theme-modern {
      font-family: 'Inter', sans-serif;
      width: 100vw !important;
      height: 100vh !important;
      max-width: 100vw !important;
      max-height: 100vh !important;
      position: fixed !important;
      top: 0 !important;
      left: 0 !important;
      right: 0 !important;
      bottom: 0 !important;
      padding: 0 !important;
      margin: 0 !important;
      object-fit: contain;
      z-index: 1000;
    }
    
    .video-js.vjs-theme-modern video {
      object-fit: contain !important;
      width: 100% !important;
      height: 100% !important;
      position: absolute !important;
      top: 0 !important;
      left: 0 !important;
    }

    .vjs-theme-modern .vjs-control-bar {
      background: linear-gradient(to top, rgba(0, 0, 0, 0.8) 0%, transparent 100%);
      backdrop-filter: blur(10px);
      padding: 8px 16px;
      height: 50px;
      display: flex !important;
      align-items: center;
      justify-content: flex-start;
      z-index: 3500;
      opacity: 1;
      transition: opacity 0.3s ease;
    }

    .vjs-theme-modern.vjs-user-inactive .vjs-control-bar {
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .vjs-theme-modern.vjs-user-active .vjs-control-bar {
      opacity: 1;
      display: flex !important;
    }

    /* Force controls visibility on mobile interaction */
    .vjs-theme-modern .vjs-control-bar:focus-within,
    .vjs-theme-modern:hover .vjs-control-bar {
      opacity: 1 !important;
      display: flex !important;
    }

    .vjs-theme-modern .vjs-big-play-button {
      background: rgba(120, 200, 255, 0.2);
      border: 2px solid rgba(120, 200, 255, 0.5);
      border-radius: 50%;
      width: 80px;
      height: 80px;
      font-size: 2.5rem;
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
      z-index: 3500;
      position: absolute !important;
      top: 50% !important;
      left: 50% !important;
      transform: translate(-50%, -50%) !important;
      margin: 0 !important;
    }

    .vjs-theme-modern .vjs-big-play-button:hover {
      background: rgba(120, 200, 255, 0.3);
      border-color: rgba(120, 200, 255, 0.8);
    }

    /* Controles visíveis */
    .vjs-theme-modern .vjs-play-control,
    .vjs-theme-modern .vjs-volume-panel,
    .vjs-theme-modern .vjs-current-time,
    .vjs-theme-modern .vjs-progress-control {
      display: flex !important;
      color: white;
      align-items: center;
      height: 100%;
      z-index: 3500;
    }

    .vjs-theme-modern .vjs-play-control {
      order: 1;
      margin-right: 12px;
    }

    .vjs-theme-modern .vjs-volume-panel {
      order: 2;
      margin-right: 12px;
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: center;
    }

    .vjs-theme-modern .vjs-volume-control {
      width: 80px;
      height: 4px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 2px;
      margin-left: 8px;
    }

    .vjs-theme-modern .vjs-volume-bar {
      background: rgba(255, 255, 255, 0.3);
      border-radius: 2px;
    }

    .vjs-theme-modern .vjs-volume-level {
      background: linear-gradient(90deg, #667eea, #764ba2);
      border-radius: 2px;
    }

    .vjs-theme-modern .vjs-progress-control {
      order: 3;
      flex: 1;
      margin: 0 12px;
    }

    .vjs-theme-modern .vjs-progress-holder {
      background: rgba(255, 255, 255, 0.3);
      border-radius: 2px;
      height: 4px;
    }

    .vjs-theme-modern .vjs-play-progress {
      background: linear-gradient(90deg, #667eea, #764ba2);
      border-radius: 2px;
    }

    .vjs-theme-modern .vjs-current-time {
      order: 4;
      font-size: 0.9rem;
      margin-left: 12px;
    }

    /* Ocultar controles desnecessários */
    .vjs-theme-modern .vjs-duration,
    .vjs-theme-modern .vjs-fullscreen-control,
    .vjs-theme-modern .vjs-remaining-time,
    .vjs-theme-modern .vjs-picture-in-picture-control {
      display: none !important;
    }

    /* Botões com hover */
    .vjs-theme-modern .vjs-button:hover {
      color: #667eea;
      transform: scale(1.1);
      transition: all 0.2s ease;
    }

    /* Scrollbar personalizada */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb {
      background: linear-gradient(135deg, #667eea, #764ba2);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(135deg, #764ba2, #667eea);
    }

    /* Notification moderna */
    .notification {
      background: linear-gradient(135deg, rgba(15, 20, 25, 0.9) 0%, rgba(0, 0, 0, 0.8) 100%);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }

    /* Channel info overlay */
    .channel-info-overlay {
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(10px);
      border-radius: 8px;
      padding: 12px;
      position: absolute;
      top: 16px;
      left: 16px;
      z-index: 3600;
      transition: opacity 0.3s ease;
      pointer-events: auto;
    }

    .channel-info-overlay.hidden {
      opacity: 0;
      pointer-events: none;
      display: none;
    }

    /* Floating close button */
    .close-btn-overlay {
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(10px);
      border-radius: 8px;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: absolute;
      top: 16px;
      right: 16px;
      z-index: 3600;
      transition: opacity 0.3s ease, background 0.3s ease;
      cursor: pointer;
      pointer-events: auto;
    }

    .close-btn-overlay.hidden {
      opacity: 0;
      pointer-events: none;
      display: none;
    }

    .close-btn-overlay:hover {
      background: rgba(255, 68, 68, 0.7);
    }

    /* Rotate prompt overlay */
    .rotate-prompt {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(10px);
      border-radius: 12px;
      padding: 20px;
      color: white;
      text-align: center;
      z-index: 2000;
      visibility: hidden;
      opacity: 0;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    .rotate-prompt.visible {
      visibility: visible;
      opacity: 1;
    }

    .rotate-prompt i {
      font-size: 2rem;
      margin-bottom: 10px;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .category-container {
        padding: 12px 16px;
      }

      .category-btn {
        padding: 8px 12px;
        font-size: 0.8rem;
        min-width: fit-content;
        flex-shrink: 0;
      }

      .category-btn i {
        font-size: 0.9rem;
        margin-right: 6px;
      }
      
      /* Better mobile video display */
      .video-js.vjs-theme-modern {
        max-width: 100vw;
        max-height: calc(100vh - 80px); /* Account for mobile browser UI and controls */
        object-fit: contain;
        position: relative;
      }
      
      .video-js.vjs-theme-modern video {
        max-width: 100% !important;
        max-height: 100% !important;
        object-fit: contain !important;
        position: relative;
      }
      
      #playerOverlay {
        overflow: hidden !important;
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        bottom: 0 !important;
        width: 100vw !important;
        height: 100vh !important;
        max-width: 100vw !important;
        max-height: 100vh !important;
      }
      
      #videoContainer {
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden !important;
        height: 100vh !important;
        width: 100vw !important;
        max-height: 100vh !important;
        max-width: 100vw !important;
        padding: 0 !important;
        margin: 0 !important;
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
      }

      .channel-grid {
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: 16px;
      }

      .channel-card {
        padding: 16px;
      }

      .channel-logo {
        width: 56px;
        height: 56px;
      }

      .channel-info-overlay {
        top: 12px;
        left: 12px;
        padding: 10px;
        z-index: 3600;
      }

      .close-btn-overlay {
        top: 12px;
        right: 12px;
        width: 36px;
        height: 36px;
        border-radius: 8px;
        z-index: 3600;
      }

      .close-btn-overlay i {
        font-size: 1rem;
      }

      .vjs-theme-modern .vjs-control-bar {
        padding: 8px 16px;
        height: 45px;
        z-index: 3500;
        background: linear-gradient(to top, rgba(0, 0, 0, 0.9) 0%, transparent 100%);
        display: flex !important;
        align-items: center;
        justify-content: flex-start;
      }

      .vjs-theme-modern .vjs-play-control {
        margin-right: 10px;
        display: flex !important;
        align-items: center;
        font-size: 1.2rem;
      }

      .vjs-theme-modern .vjs-volume-panel {
        margin-right: 10px;
        flex-direction: row;
        align-items: center;
        display: flex !important;
      }

      .vjs-theme-modern .vjs-volume-control {
        width: 70px;
        height: 4px;
        margin-left: 8px;
        display: flex !important;
      }

      .vjs-theme-modern .vjs-current-time {
        font-size: 0.85rem;
        margin-left: 10px;
        display: flex !important;
        align-items: center;
        color: white;
      }

      .vjs-theme-modern .vjs-progress-control {
        margin: 0 10px;
        flex: 1;
        display: flex !important;
      }


      @media (orientation: portrait) {
        .rotate-prompt {
          visibility: visible;
          opacity: 1;
        }
        .video-js.vjs-theme-modern {
          height: 50vh; /* Reduced height in portrait to show prompt */
        }
      }

      @media (orientation: landscape) {
        .rotate-prompt {
          visibility: hidden;
          opacity: 0;
        }
        
        /* Force fullscreen layout */
        .video-js.vjs-theme-modern {
          height: 100vh !important;
          height: 100dvh !important; /* Dynamic viewport height */
          max-height: 100vh !important;
          max-height: 100dvh !important;
          width: 100vw !important;
          max-width: 100vw !important;
          object-fit: contain;
          position: absolute !important;
          top: 0 !important;
          left: 0 !important;
          right: 0 !important;
          bottom: 0 !important;
        }
        
        .video-js.vjs-theme-modern video {
          height: 100% !important;
          width: 100% !important;
          max-height: 100% !important;
          max-width: 100% !important;
          object-fit: contain !important;
          position: absolute !important;
          top: 0 !important;
          left: 0 !important;
        }
        
        #playerOverlay {
          height: 100vh !important;
          height: 100dvh !important; /* Dynamic viewport height */
          width: 100vw !important;
          overflow: hidden;
          position: fixed !important;
          top: 0 !important;
          left: 0 !important;
          right: 0 !important;
          bottom: 0 !important;
          padding: 0 !important;
          margin: 0 !important;
        }
        
        #videoContainer {
          height: 100% !important;
          width: 100% !important;
          max-height: 100vh !important;
          max-height: 100dvh !important;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 0 !important;
          margin: 0 !important;
          position: relative;
        }
        
        .video-wrapper {
          height: 100% !important;
          width: 100% !important;
          position: relative !important;
        }
        
        .vjs-theme-modern .vjs-control-bar {
          position: absolute !important;
          bottom: 0 !important;
          left: 0 !important;
          right: 0 !important;
          width: 100% !important;
          z-index: 3500 !important;
          height: 50px !important;
          margin: 0 !important;
          padding: 8px 16px !important;
        }
        
        /* Hide mobile browser UI elements */
        body {
          overflow: hidden !important;
        }
        
        /* Ensure video takes full space */
        .vjs-tech {
          height: 100% !important;
          width: 100% !important;
          object-fit: contain !important;
        }
      }
    }

    /* Animações de entrada */
    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .channel-card {
      animation: slideUp 0.6s ease forwards;
    }

    .channel-card:nth-child(even) {
      animation-delay: 0.1s;
    }

    .channel-card:nth-child(3n) {
      animation-delay: 0.2s;
    }

    /* Loading estado */
    .loading-shimmer {
      background: linear-gradient(90deg, rgba(255, 255, 255, 0.1) 25%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.1) 75%);
      background-size: 200% 100%;
      animation: shimmer 2s infinite;
    }

    @keyframes shimmer {
      0% { background-position: -200% 0; }
      100% { background-position: 200% 0; }
    }
  </style>
</head>
<body>
  <!-- Som -->
  <audio id="clickSound" src="https://cdn.pixabay.com/audio/2025/06/01/audio_d2ccbb367a.mp3" preload="auto"></audio>

  <!-- Notification moderna -->
  <div id="notification" class="notification fixed top-6 left-1/2 transform -translate-x-1/2 px-6 py-4 z-50 opacity-0 transition-all duration-300 max-w-md text-center pointer-events-none"></div>

  <!-- Header moderno -->
  <header class="header-glass sticky top-0 z-40 px-6 py-4">
    <div class="max-w-7xl mx-auto">
      <div class="text-center mb-6">
        <div class="mt-2">
          <h1 class="text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent">
            PrimeCast
          </h1>
          <p class="text-gray-400 text-sm">TV Brasileira Premium</p>
        </div>
      </div>

      <div class="search-container">
        <div class="relative">
          <i class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
          <input 
            type="text" 
            id="searchInput" 
            oninput="filterChannels()"
            class="search-input w-full pl-12 pr-4 py-3 rounded-2xl text-white placeholder-gray-400"
            placeholder="🔍 Buscar canal ou programa..." 
          />
          <div class="absolute right-4 top-1/2 transform -translate-y-1/2">
            <kbd class="hidden md:inline text-xs bg-gray-700 px-2 py-1 rounded">Ctrl+K</kbd>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Categorias modernas -->
  <nav class="category-container sticky top-20 z-30 px-6 py-4">
    <div class="max-w-7xl mx-auto">
      <div class="flex gap-3 overflow-x-auto pb-2">
        <button class="category-btn active bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-3 rounded-full text-sm font-medium whitespace-nowrap flex items-center gap-2" onclick="setCategory('todos')">
          <i class="fas fa-home"></i>
          Todos
        </button>
        <button class="category-btn bg-gray-800 hover:bg-gray-700 px-6 py-3 rounded-full text-sm font-medium whitespace-nowrap flex items-center gap-2" onclick="setCategory('abertos')">
          <i class="fas fa-tv"></i>
          Abertos
        </button>
        <button class="category-btn bg-gray-800 hover:bg-gray-700 px-6 py-3 rounded-full text-sm font-medium whitespace-nowrap flex items-center gap-2" onclick="setCategory('variedades')">

          <i class="fa-solid fa-puzzle-piece"></i>
            Variedades
          </button>
          <button class="category-btn bg-gray-800 hover:bg-gray-700 px-6 py-3 rounded-full text-sm font-medium whitespace-nowrap flex items-center gap-2" onclick="setCategory('noticias')">
          <i class="fas fa-newspaper"></i>

          Notícias
        </button>
        <button class="category-btn bg-gray-800 hover:bg-gray-700 px-6 py-3 rounded-full text-sm font-medium whitespace-nowrap flex items-center gap-2" onclick="setCategory('esportes')">
          <i class="fas fa-medal"></i>
          Esportes
        </button>
        <button class="category-btn bg-gray-800 hover:bg-gray-700 px-6 py-3 rounded-full text-sm font-medium whitespace-nowrap flex items-center gap-2" onclick="setCategory('filmes')">
          <i class="fas fa-film"></i>
          Filmes
        </button>
        <button class="category-btn bg-gray-800 hover:bg-gray-700 px-6 py-3 rounded-full text-sm font-medium whitespace-nowrap flex items-center gap-2" onclick="setCategory('desenhos')">
          <i class="fas fa-child"></i>
          Desenhos
        </button>
        <button class="category-btn bg-gray-800 hover:bg-gray-700 px-6 py-3 rounded-full text-sm font-medium whitespace-nowrap flex items-center gap-2" onclick="setCategory('documentarios')">
          <i class="fas fa-book"></i>
          Documentários
        </button>
      </div>
    </div>
  </nav>

  <!-- Lista de Canais -->
  <main class="px-6 py-8">
    <div class="max-w-7xl mx-auto">
      <div id="channelList" class="channel-grid">
        <div class="channel-card offline" data-name="globo sp" data-category="abertos" data-url="..." data-embed="https://www.embedcanais.net/globo-sp">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.pinimg.com/originals/2e/15/1b/2e151b40add880e0bf5fd9059f533d2d.png" class="channel-logo" />
          <div class="channel-name">Globo SP</div>
        </div>
        <div class="channel-card offline" data-name="globo rj" data-category="abertos" data-url="..." data-embed="https://www.embedcanais.net/globo-rj">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://www.bastidoresdatv.com.br/wp-content/uploads/2016/02/globorj.png" class="channel-logo" />
          <div class="channel-name">Globo RJ</div>
        </div>
        <div class="channel-card offline" data-name="tv cultura" data-category="abertos" data-url="https://player-tvcultura.stream.uol.com.br/live/tvcultura_lsd.m3u8?vhost=player-tvcultura.stream.uol.com.br">
          <div class="live-indicator online">
            <span class="online-text" style="display: inline;">AO VIVO</span>
            <span class="offline-text" style="display: none;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/PJLJzdW.png" class="channel-logo" />
          <div class="channel-name">TV Cultura</div>
        </div>
        <div class="channel-card offline" data-name="tv brasil" data-category="abertos" data-url="https://tvbrasil-stream.ebc.com.br/EBC_HD-avc1_1800000=10001.m3u8">
          <div class="live-indicator online">
            <span class="online-text" style="display: inline;">AO VIVO</span>
            <span class="offline-text" style="display: none;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/a/a9/TV_Brasil_logo_2019.svg" class="channel-logo" />
          <div class="channel-name">TV Brasil</div>
        </div>
        <div class="channel-card offline" data-name="record" data-category="abertos" data-url="..." data-embed="https://www.embedcanais.net/record">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/SehYFaG.png" class="channel-logo" />
          <div class="channel-name">Record</div>
        </div>
        <div class="channel-card offline" data-name="redetv" data-category="abertos" data-url="..." data-embed="https://www.embedcanais.net/rede-tv">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/uKSf0kb.png" class="channel-logo" />
          <div class="channel-name">RedeTV!</div>
        </div>
        <div class="channel-card offline" data-name="sbt" data-category="abertos" data-url="..." data-embed="https://www.embedcanais.net/sbt">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/Orcyltp.png" class="channel-logo" />
          <div class="channel-name">SBT</div>
        </div>
        <div class="channel-card" data-name="band" data-category="abertos" data-url="..." data-embed="https://www.embedcanais.net/band">
          <div class="live-indicator online">
            <span class="online-text" style="display: inline;">AO VIVO</span>
            <span class="offline-text" style="display: none;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/QZgrKOf.png" class="channel-logo" />
          <div class="channel-name">Band</div>
        </div>
        <div class="channel-card offline" data-name="cnn brasil" data-category="noticias" data-url="..." data-embed="www.embedcanais.net/cnn-brasil">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/sKwH2u4.png" class="channel-logo" />
          <div class="channel-name">CNN Brasil</div>
        </div>
        <div class="channel-card offline" data-name="globo news" data-category="noticias" data-url="..." data-embed="www.embedcanais.net/globo-news">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/CCEg0km.png" class="channel-logo" />
          <div class="channel-name">Globo News</div>
        </div>
        <div class="channel-card offline" data-name="band news" data-category="noticias" data-url="..." data-embed="wwww.embedcanais.net/band-news">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/uzNyEV4.png" class="channel-logo" />
          <div class="channel-name">Band News</div>
        </div>
        <div class="channel-card offline" data-name="record news" data-category="noticias" data-url="..." data-embed="www.embedcanais.net/record-news">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/OlccJ9t.png" class="channel-logo" />
          <div class="channel-name">Record News</div>
        </div>
        <div class="channel-card offline" data-name="jp news" data-category="noticias" data-url="..." data-embed="www.embedcanais.net/jp-news">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/4/41/Logotipo_da_TV_Jovem_Pan_News.png" class="channel-logo" />
          <div class="channel-name">JP News</div>
        </div>
        <div class="channel-card offline" data-name="sportv" data-category="esportes" data-url="..." data-embed="https://www.embedcanais.net/sportv">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/IwO9fQL.png" class="channel-logo" />
          <div class="channel-name">Sportv</div>
        </div>
        <div class="channel-card offline" data-name="sportv 2" data-category="esportes" data-url="..." data-embed="https://www.embedcanais.net/sportv-2">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/Aln0pjU.png" class="channel-logo" />
          <div class="channel-name">Sportv 2</div>
        </div>
        <div class="channel-card offline" data-name="sportv3" data-category="esportes" data-url="..." data-embed="https://www.embedcanais.net/sportv-3">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/FaVJDPa.png" class="channel-logo" />
          <div class="channel-name">Sportv 3</div>
        </div>
        <div class="channel-card offline" data-name="sportv 4" data-category="esportes" data-url="..." data-embed="https://www.embedcanais.net/sportv-4">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/IwO9fQL.png" class="channel-logo" />
          <div class="channel-name">Sportv 4</div>
        </div>
            <div class="channel-card offline" data-name="max" data-category="esportes" data-url="..." data-embed="https://www.embedcanais.net/max">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://beam-images.warnermediacdn.com/2025-03/max_iridescent-white_logo_small_rgb-width700px.png?host=wbd-dotcom-drupal-prd-us-east-1.s3.amazonaws.com" class="channel-logo" />
          <div class="channel-name">Max</div>
        </div>
        <div class="channel-card offline" data-name="espn" data-category="esportes" data-url="..." data-embed="https://www.embedcanais.net/espn">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/AUdOPW0.png" class="channel-logo" />
          <div class="channel-name">ESPN</div>
        </div>
        <div class="channel-card offline" data-name="espn2" data-category="esportes" data-url="..." data-embed="https://www.embedcanais.net/espn-2">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/s2YAxM9.png" class="channel-logo" />
          <div class="channel-name">ESPN 2</div>
        </div>
        <div class="channel-card offline" data-name="espn3" data-category="esportes" data-url="..." data-embed="https://www.embedcanais.net/espn-3">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/zctUday.png" class="channel-logo" />
          <div class="channel-name">ESPN 3</div>
        </div>
        <div class="channel-card offline" data-name="espn4" data-category="esportes" data-url="..." data-embed="https://www.embedcanais.net/espn-4">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/k3iSdJx.png" class="channel-logo" />
          <div class="channel-name">ESPN 4</div>
        </div>
        <div class="channel-card offline" data-name="espn5" data-category="esportes" data-url="..." data-embed="https://www.embedcanais.net/espn-5">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/7YScj1R.png" class="channel-logo" />
          <div class="channel-name">ESPN 5</div>
        </div>
        <div class="channel-card offline" data-name="espn6" data-category="esportes" data-url="..." data-embed="https://www.embedcanais.net/espn-6">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/dtWJKS6.png" class="channel-logo" />
          <div class="channel-name">ESPN 6</div>
        </div>
        <div class="channel-card offline" data-name="premiere" data-category="esportes" data-url="..." data-embed="https://www.embedcanais.net/premiere">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/ydDYQhX.png" class="channel-logo" />
          <div class="channel-name">Premiere</div>
        </div>
        <div class="channel-card offline" data-name="premiere2" data-category="esportes" data-url="..." data-embed="https://www.embedcanais.net/premiere-2">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/ydDYQhX.png" class="channel-logo" />
          <div class="channel-name">Premiere 2</div>
        </div>
        <div class="channel-card offline" data-name="premiere3" data-category="esportes" data-url="..." data-embed="https://www.embedcanais.net/premiere-3">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/ydDYQhX.png" class="channel-logo" />
          <div class="channel-name">Premiere 3</div>
        </div>
        <div class="channel-card offline" data-name="premiere4" data-category="esportes" data-url="..." data-embed="https://www.embedcanais.net/premiere-4">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/ydDYQhX.png" class="channel-logo" />
          <div class="channel-name">Premiere 4</div>
        </div>
        <div class="channel-card offline" data-name="premiere5" data-category="esportes" data-url="..." data-embed="https://www.embedcanais.net/premiere-5">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/ydDYQhX.png" class="channel-logo" />
          <div class="channel-name">Premiere 5</div>
        </div>
        <div class="channel-card offline" data-name="premiere6" data-category="esportes" data-url="..." data-embed="https://www.embedcanais.net/premiere-6">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/ydDYQhX.png" class="channel-logo" />
          <div class="channel-name">Premiere 6</div>
        </div>
        <div class="channel-card offline" data-name="premiere7" data-category="esportes" data-url="..." data-embed="https://www.embedcanais.net/premiere-7">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/ydDYQhX.png" class="channel-logo" />
          <div class="channel-name">Premiere 7</div>
        </div>
        <div class="channel-card offline" data-name="premiere8" data-category="esportes" data-url="..." data-embed="https://www.embedcanais.net/premiere-8">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/ydDYQhX.png" class="channel-logo" />
          <div class="channel-name">Premiere 8</div>
        </div>
        <div class="channel-card offline" data-name="telecine premium" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/telecine-premium">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a1/Telecine_Premium_%282019%29.svg/2560px-Telecine_Premium_%282019%29.svg.png" class="channel-logo" />
          <div class="channel-name">Telecine Premium</div>
        </div>
                <div class="channel-card offline" data-name="telecine action" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/telecine-action">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/33/Telecine_Action_%282019%29.svg/1000px-Telecine_Action_%282019%29.svg.png" class="channel-logo" />
          <div class="channel-name">Telecine Action</div>
        </div>
                <div class="channel-card offline" data-name="telecine pipoca" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/telecine-pipoca">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Telecine_Pipoca_%282019%29.svg/1200px-Telecine_Pipoca_%282019%29.svg.png" class="channel-logo" />
          <div class="channel-name">Telecine Pipoca</div>
        </div>
                <div class="channel-card offline" data-name="telecine fun" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/telecine-fun">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://images.seeklogo.com/logo-png/47/2/telecine-fun-logo-png_seeklogo-471032.png" class="channel-logo" />
          <div class="channel-name">Telecine Fun</div>
        </div>
                <div class="channel-card offline" data-name="telecine action" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/telecine-action">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/33/Telecine_Action_%282019%29.svg/1000px-Telecine_Action_%282019%29.svg.png" class="channel-logo" />
          <div class="channel-name">Telecine Action</div>
        </div>
                <div class="channel-card offline" data-name="telecine cult" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/telecine-cult">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/4/4c/Telecine_Cult_2019.png" class="channel-logo" />
          <div class="channel-name">Telecine Cult</div>
        </div>
          <div class="channel-card offline" data-name="telecine touch" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/telecine-touch">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/Nky0hRo.png" class="channel-logo" />
          <div class="channel-name">Telecine Touch</div>
        </div>
        <div class="channel-card offline" data-name="hbo" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/hbo">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/d/de/HBO_logo.svg" class="channel-logo" />
          <div class="channel-name">HBO</div>
        </div>
        <div class="channel-card offline" data-name="hbo 2" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/hbo-2">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/6/6c/HBO2_logo.svg" class="channel-logo" />
          <div class="channel-name">HBO 2</div>
        </div>
        <div class="channel-card offline" data-name="hbo family" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/hbo-family">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/3/3a/HBO_Family_logo.png" class="channel-logo" />
          <div class="channel-name">HBO Family</div>
        </div>
        <div class="channel-card offline" data-name="hbo mundi" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/hbo-mundi">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://vivo.com.br/content/dam/vivo-sites/vivo-com-br/homepage/imagens/logos/canal-hbo-mundi-252x252.png" class="channel-logo" />
          <div class="channel-name">HBO Mundi</div>
        </div>
        <div class="channel-card offline" data-name="hbo plus" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/hbo-plus">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/f/f9/Logohboplus2019.svg" class="channel-logo" />
          <div class="channel-name">HBO Plus</div>
        </div>
        <div class="channel-card offline" data-name="hbo pop" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/hbo-pop">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/HBO_Pop.svg/1200px-HBO_Pop.svg.png" class="channel-logo" />
          <div class="channel-name">HBO POP</div>
        </div>
        <div class="channel-card offline" data-name="hbo signature" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/hbo-signature">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9e/HBO_Signature.svg/1280px-HBO_Signature.svg.png" class="channel-logo" />
          <div class="channel-name">HBO Signature</div>
        </div>
        <div class="channel-card offline" data-name="hbo xtreme" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/hbo-xtreme">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://vivo.com.br/content/dam/vivo-sites/vivo-com-br/homepage/imagens/logos/canal-hbo-xtreme-252x252.png" class="channel-logo" />
          <div class="channel-name">HBO Xtreme</div>
        </div>
        <div class="channel-card offline" data-name="a&e" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/a-e">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/df/A%26E_Network_logo.svg/2560px-A%26E_Network_logo.svg.png" class="channel-logo" />
          <div class="channel-name">A&E</div>
        </div>
        <div class="channel-card offline" data-name="amc" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/amc">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/3/34/AMC_logo_2019.svg" class="channel-logo" />
          <div class="channel-name">AMC</div>
        </div>
        <div class="channel-card offline" data-name="axn" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/axn">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/52/AXN_logo_%282015%29.svg/1200px-AXN_logo_%282015%29.svg.png" class="channel-logo" />
          <div class="channel-name">AXN</div>
        </div>
        <div class="channel-card offline" data-name="cinemax" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/cinemax">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/6/6a/Cinemax_LA.png" class="channel-logo" />
          <div class="channel-name">Cinemax</div>
        </div>
        <div class="channel-card offline" data-name="megapix" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/megapix">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/6/69/Megapix_fundoclaro_midiaimpressa.png" class="channel-logo" />
          <div class="channel-name">Megapix</div>
        </div>
        <div class="channel-card offline" data-name="paramount+" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/paramount">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Paramount_Plus.svg" class="channel-logo" />
          <div class="channel-name">Paramount+</div>
        </div>
        <div class="channel-card offline" data-name="sony channel" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/sony-channel">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7a/Sony_Channel_Logo_2019.svg/2048px-Sony_Channel_Logo_2019.svg.png" class="channel-logo" />
          <div class="channel-name">Sony Channel</div>
        </div>
        <div class="channel-card offline" data-name="sony movies" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/sony-movies">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/9/9b/Sony_Movies_Logo.svg" class="channel-logo" />
          <div class="channel-name">Sony Movies</div>
        </div>
        <div class="channel-card offline" data-name="space" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/space">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1a/SpaceLogo.svg/2560px-SpaceLogo.svg.png" class="channel-logo" />
          <div class="channel-name">Space</div>
        </div>
        <div class="channel-card offline" data-name="studio universal" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/studio-universal">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://images.seeklogo.com/logo-png/31/2/studio-universal-logo-png_seeklogo-314574.png" class="channel-logo" />
          <div class="channel-name">Studio Universal</div>
        </div>
        <div class="channel-card offline" data-name="tnt" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/tnt">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/b/bd/TNT_%28TV_Channel_Logo%29.png" class="channel-logo" />
          <div class="channel-name">TNT</div>
        </div>
        <div class="channel-card offline" data-name="tnt novelas" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/tnt-novelas">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Logo_TNT_Novelas.png/1200px-Logo_TNT_Novelas.png" class="channel-logo" />
          <div class="channel-name">TNT Novelas</div>
        </div>
        <div class="channel-card offline" data-name="tnt series" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/tnt-series">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://static.wikia.nocookie.net/logopedia/images/0/0e/Tnt-series-latin-america.svg/revision/latest/scale-to-width-down/150?cb=20200116195222&path-prefix=es" class="channel-logo" />
          <div class="channel-name">TNT Series</div>
        </div>
        <div class="channel-card offline" data-name="universal tv" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/universal-tv">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/d/dc/Universal_TV_Logo_2018.png" class="channel-logo" />
          <div class="channel-name">Universal TV</div>
        </div>
        <div class="channel-card offline" data-name="warner channel" data-category="filmes" data-url="..." data-embed="https://www.embedcanais.net/warner-channel">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/5/5e/Warner2018LA.png" class="channel-logo" />
          <div class="channel-name">Warner Channel</div>
        </div>
        <div class="channel-card offline" data-name="cartoon network" data-category="desenhos" data-url="..." data-embed="https://www.embedcanais.net/cartoon-network">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/8/80/Cartoon_Network_2010_logo.svg" class="channel-logo" />
          <div class="channel-name">Cartoon Network</div>
        </div>
        <div class="channel-card offline" data-name="cartoonito" data-category="desenhos" data-url="..." data-embed="https://www.embedcanais.net/cartoonito">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Cartoonito_-_Logo_2021.svg/1200px-Cartoonito_-_Logo_2021.svg.png" class="channel-logo" />
          <div class="channel-name">Cartoonito</div>
        </div>
        <div class="channel-card offline" data-name="discovery kids" data-category="desenhos" data-url="..." data-embed="https://www.embedcanais.net/discovery-kids">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/6/62/Discovery_kids_logo.png" class="channel-logo" />
          <div class="channel-name">Discovery Kids</div>
        </div>
        <div class="channel-card offline" data-name="Gloob" data-category="desenhos" data-url="..." data-embed="https://www.embedcanais.net/gloob">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/0/00/Gloob_logo.png" class="channel-logo" />
          <div class="channel-name">Gloob</div>
        </div>
        <div class="channel-card offline" data-name="gloobinho" data-category="desenhos" data-url="..." data-embed="https://www.embedcanais.net/gloobinho">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c0/Gloobinho_logo.svg/1200px-Gloobinho_logo.svg.png" class="channel-logo" />
          <div class="channel-name">Gloobinho</div>
        </div>
        <div class="channel-card offline" data-name="nickelodeon" data-category="desenhos" data-url="..." data-embed="https://www.embedcanais.net/nickeloadeon">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e5/Nickelodeon_2023_logo_%28outline%29.svg/1200px-Nickelodeon_2023_logo_%28outline%29.svg.png" />
          <div class="channel-name">Nickeloadeon</div>
        </div>
        <div class="channel-card offline" data-name="nick jr" data-category="desenhos" data-url="..." data-embed="https://www.embedcanais.net/nick-jr">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/c/c5/Nick_Jr._logo_2023_%28outline%29.svg" class="channel-logo" />
          <div class="channel-name">Nick Jr</div>
        </div>
                <div class="channel-card offline" data-name="toonscast" data-category="desenhos" data-url="..." data-embed="https://www.embedcanais.net/tooncast">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/bb/Tooncast_logo.svg/2560px-Tooncast_logo.svg.png" class="channel-logo" />
          <div class="channel-name">Tooncast</div>
        </div>
        <div class="channel-card offline" data-name="loading" data-category="variedades" data-url="https://stmv1.srvif.com/loadingtv/loadingtv/playlist.m3u8?hls_ctx=5903w135">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://i.imgur.com/wITuf1T.png" class="channel-logo" />
          <div class="channel-name">Loading</div>
        </div>
        <div class="channel-card offline" data-name="discovery channel" data-category="documentarios" data-url="..." data-embed="https://www.embedcanais.net/discovery-channel">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://logos-world.net/wp-content/uploads/2022/01/Discovery-Channel-Logo.png" class="channel-logo" />
          <div class="channel-name">Discovery Channel</div>
        </div>
        <div class="channel-card offline" data-name="discovery home health" data-category="documentarios" data-url="..." data-embed="https://www.embedcanais.net/discovery-home-health">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/a/a3/Discovery_Home_%26_Health_logo.svg" class="channel-logo" />
          <div class="channel-name">Discovery Home & Health</div>
        </div>
        <div class="channel-card offline" data-name="discovery science" data-category="documentarios" data-url="..." data-embed="https://www.embedcanais.net/discovery-science">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://asteroidday-uploads.s3.eu-central-1.amazonaws.com/wp-content/uploads/2018/12/06032103/sciencechannel-hor.png" class="channel-logo" />
          <div class="channel-name">Discovery Science</div>
        </div>
        <div class="channel-card offline" data-name="discovery theater" data-category="documentarios" data-url="..." data-embed="https://www.embedcanais.net/discovery-theater">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/2015_Discovery_theater_HD_logo.svg/1200px-2015_Discovery_theater_HD_logo.svg.png" class="channel-logo" />
          <div class="channel-name">Discovery Theater</div>
        </div>
        <div class="channel-card offline" data-name="discovery turbo" data-category="documentarios" data-url="..." data-embed="https://www.embedcanais.net/discovery-turbo">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/Discovery_Turbo_logo.svg/2560px-Discovery_Turbo_logo.svg.png" class="channel-logo" />
          <div class="channel-name">Discovery Turbo</div>
        </div>
        <div class="channel-card offline" data-name="discovery world" data-category="documentarios" data-url="..." data-embed="https://www.embedcanais.net/discovery-world">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/85/World_Discovery_HD_logo.svg/1200px-World_Discovery_HD_logo.svg.png" class="channel-logo" />
          <div class="channel-name">Discovery World</div>
        </div>
        <div class="channel-card offline" data-name="animal planet" data-category="documentarios" data-url="..." data-embed="https://www.embedcanais.net/animal-planet">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/2/20/2018_Animal_Planet_logo.svg" class="channel-logo" />
          <div class="channel-name">Animal Planet</div>
        </div>
        <div class="channel-card offline" data-name="history" data-category="documentarios" data-url="..." data-embed="https://www.embedcanais.net/history">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/f/f5/History_Logo.svg" class="channel-logo" />
          <div class="channel-name">History</div>
        </div>
        <div class="channel-card offline" data-name="history2" data-category="documentarios" data-url="..." data-embed="https://www.embedcanais.net/history-2">
          <div class="live-indicator offline">
            <span class="online-text" style="display: none;">AO VIVO</span>
            <span class="offline-text" style="display: inline;">OFFLINE</span>
          </div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c9/History2_logo_%282022%29.svg/1984px-History2_logo_%282022%29.svg.png" class="channel-logo" />
          <div class="channel-name">History 2</div>
        </div>
      </div>
    </div>
  </main>

  <!-- Player Overlay -->
  <div id="playerOverlay" class="player-overlay fixed inset-0 z-50 opacity-0 pointer-events-none transition-all duration-300">
    <div id="channelInfoOverlay" class="channel-info-overlay hidden">
      <div class="flex items-center gap-3">
        <img id="overlayChannelLogo" src="" class="w-10 h-10 rounded-lg object-contain" />
        <div>
          <h3 id="overlayChannelName" class="text-white font-semibold text-lg"></h3>
          <p class="text-gray-300 text-sm flex items-center gap-1">
            <span class="w-2 h-2 bg-red-500 rounded-full animate-pulse"></span>
            Transmissão ao vivo
          </p>
        </div>
      </div>
    </div>

    <button id="closeBtnOverlay" onclick="closePlayer()" class="close-btn-overlay hidden">
      <i class="fas fa-times text-lg text-white"></i>
    </button>

    <div id="rotatePrompt" class="rotate-prompt">
      <i class="fas fa-mobile-alt fa-rotate-90"></i>
      <p>Por favor, gire o dispositivo para a horizontal</p>
    </div>

    <div class="relative h-full" id="videoContainer">
    </div>
  </div>

  <script>
    let player = null;
    let currentCategory = 'todos';
    let favoriteChannels = JSON.parse(localStorage.getItem('favoriteChannels') || '[]');
    window.currentHls = null;
    let overlayTimeout = null;
    let notificationTimeout = null;
    let channelStatus = new Map();
    let statusCheckInterval = null;
    let isOrientationLocked = false;

    document.addEventListener('keydown', function(e) {
      if (e.ctrlKey && e.key === 'k') {
        e.preventDefault();
        document.getElementById('searchInput').focus();
      }
      if (e.key === 'Escape') {
        closePlayer();
      }
    });

    document.addEventListener('DOMContentLoaded', function() {
      filterChannels();
      setupChannelAnimations();
      checkChannelStatus(); // Run status check once on page load
      setupChannelClickListeners();
      
      // Múltiplos listeners para detecção de orientação robusta
      window.addEventListener('orientationchange', function() {
        setTimeout(updateOrientationPrompt, 100);
      });
      window.addEventListener('resize', function() {
        setTimeout(updateOrientationPrompt, 100);
      });

      // Handle browser back button
      window.addEventListener('popstate', function(e) {
        if (player) {
          e.preventDefault();
          closePlayer();
        }
      });

      window.addEventListener('beforeunload', function() {
        hideOverlays();
        cleanupPlayer();
        stopStatusCheckInterval();
      });

      // Initial orientation check
      updateOrientationPrompt();
    });

    function setupChannelAnimations() {
      const channels = document.querySelectorAll('.channel-card');
      channels.forEach((channel, index) => {
        channel.style.animationDelay = `${index * 0.05}s`;
      });
    }

    function setupChannelClickListeners() {
      const channels = document.querySelectorAll('.channel-card');
      channels.forEach(channel => {
        channel.addEventListener('click', () => {
          const url = channel.dataset.url;
          const embedUrl = channel.dataset.embed; // Check for embed URL
          const name = channel.querySelector('.channel-name').textContent;
          const logo = channel.querySelector('.channel-logo').src;
          playChannel(url, name, logo, embedUrl);
        });
      });
    }

    async function checkChannelStatus() {
      const channels = document.querySelectorAll('.channel-card');

      for (let channel of channels) {
        const url = channel.dataset.url;
        const embedUrl = channel.dataset.embed;
        const name = channel.dataset.name;
        let isOnline = false;

        try {
          const controller = new AbortController();
          const timeoutId = setTimeout(() => controller.abort(), 5000);

          if (embedUrl) {
            // Verificação para canais com embed
            try {
              const response = await fetch(embedUrl, {
                method: 'HEAD', // Usa HEAD para reduzir o uso de dados
                mode: 'no-cors', // Usa no-cors para evitar bloqueios, mas isso limita a leitura do status
                signal: controller.signal
              });
              // Como 'no-cors' não permite ler o status, assumimos que a requisição bem-sucedida indica online
              isOnline = true;
            } catch (error) {
              // Se a requisição falhar, consideramos offline
              isOnline = false;
              if (error.name !== 'AbortError') {
                console.warn(`Error checking embed status for ${name}:`, error);
              }
            }
          } else if (url && url !== '...') {
            // Verificação para canais com m3u8
            const response = await fetch(url, {
              method: 'GET',
              mode: 'cors',
              cache: 'no-cache',
              signal: controller.signal,
              headers: {
                'Range': 'bytes=0-1023'
              }
            });

            if (response.ok) {
              const contentType = response.headers.get('content-type') || '';
              if (
                contentType.includes('application/vnd.apple.mpegurl') ||
                contentType.includes('application/x-mpegURL')
              ) {
                isOnline = true;
              }
            }
          }

          clearTimeout(timeoutId);
          setChannelStatus(channel, isOnline);
          channelStatus.set(name, isOnline);
        } catch (error) {
          // Suprime erros comuns para manter o console limpo
          if (error.name !== 'AbortError' && error.message !== 'Failed to fetch') {
            console.error(`Critical error checking status for ${name}:`, error);
          }
          setChannelStatus(channel, false);
          channelStatus.set(name, false);
        }
      }
    }

    function startStatusCheckInterval() {
      // No periodic checks; function kept for compatibility
    }

    function stopStatusCheckInterval() {
      if (statusCheckInterval) {
        clearInterval(statusCheckInterval);
        statusCheckInterval = null;
      }
    }

    function setChannelStatus(channelElement, isOnline) {
      const indicator = channelElement.querySelector('.live-indicator');
      const onlineText = indicator.querySelector('.online-text');
      const offlineText = indicator.querySelector('.offline-text');

      if (isOnline) {
        channelElement.classList.remove('offline');
        indicator.classList.add('online');
        indicator.classList.remove('offline');
        onlineText.style.display = 'inline';
        offlineText.style.display = 'none';
      } else {
        channelElement.classList.add('offline');
        indicator.classList.add('offline');
        indicator.classList.remove('online');
        onlineText.style.display = 'none';
        offlineText.style.display = 'inline';
      }
    }

    function lockOrientationToLandscape() {
      const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
      if (!isMobile) return;

      if (screen.orientation && screen.orientation.lock) {
        screen.orientation.lock('landscape').then(() => {
          isOrientationLocked = true;
          console.log('Screen locked to landscape');
          updateOrientationPrompt();
        }).catch(err => {
          console.warn('Failed to lock orientation:', err);
          showNotification('Por favor, gire o dispositivo para a horizontal', 'info');
          updateOrientationPrompt();
        });
      } else {
        console.warn('Screen orientation lock not supported');
        showNotification('Por favor, gire o dispositivo para a horizontal', 'info');
        updateOrientationPrompt();
      }
    }

    function unlockOrientation() {
      if (isOrientationLocked && screen.orientation && screen.orientation.unlock) {
        screen.orientation.unlock();
        isOrientationLocked = false;
        console.log('Screen orientation unlocked');
      }
      hideRotatePrompt();
    }

    function showRotatePrompt() {
      const rotatePrompt = document.getElementById('rotatePrompt');
      if (rotatePrompt) {
        rotatePrompt.classList.add('visible');
        console.log('Showing rotate prompt');
      }
    }

    function hideRotatePrompt() {
      const rotatePrompt = document.getElementById('rotatePrompt');
      if (rotatePrompt) {
        rotatePrompt.classList.remove('visible');
        console.log('Hiding rotate prompt');
      }
    }

    function updateOrientationPrompt() {
      const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
      if (!isMobile || !player) {
        hideRotatePrompt();
        return;
      }

      // Múltiplas formas de detectar orientação para maior compatibilidade
      const isLandscape = 
        window.matchMedia("(orientation: landscape)").matches ||
        (window.innerWidth > window.innerHeight) ||
        (screen.width > screen.height);
      
      console.log('Checking orientation:', { 
        isLandscape, 
        innerWidth: window.innerWidth, 
        innerHeight: window.innerHeight,
        mediaQuery: window.matchMedia("(orientation: landscape)").matches 
      });

      if (isLandscape) {
        hideRotatePrompt();
      } else {
        showRotatePrompt();
      }
    }

    function hideOverlays() {
      const channelOverlay = document.getElementById('channelInfoOverlay');
      const closeBtnOverlay = document.getElementById('closeBtnOverlay');
      if (channelOverlay) {
        channelOverlay.classList.add('hidden');
        channelOverlay.style.display = 'none';
      }
      if (closeBtnOverlay) {
        closeBtnOverlay.classList.add('hidden');
        closeBtnOverlay.style.display = 'none';
      }
      if (overlayTimeout) {
        clearTimeout(overlayTimeout);
        overlayTimeout = null;
      }
    }

    function playChannel(url, name, logo, embedUrl = null) {
      try {
        playClickSound();

        cleanupPlayer();

        // Add fullscreen class to body
        document.body.classList.add('player-active');

        const overlay = document.getElementById('playerOverlay');
        overlay.classList.remove('opacity-0', 'pointer-events-none');
        overlay.classList.add('opacity-100', 'pointer-events-auto');

        document.getElementById('overlayChannelName').textContent = name;
        document.getElementById('overlayChannelLogo').src = logo;

        history.pushState({ playerOpen: true }, '', '');

        // Check if channel has embed URL and use embed player instead
        if (embedUrl) {
          initializeEmbedPlayer(embedUrl, name).then(() => {
            showChannelInfo();
            lockOrientationToLandscape();
            updateOrientationPrompt();
          });
        } else {
          initializePlayer(url, name).then(() => {
            showChannelInfo();
            lockOrientationToLandscape();
            updateOrientationPrompt();
            if (player) player.userActive(true);
          });
        }

      } catch (error) {
        console.error('Error playing channel:', error);
        showNotification('Canal indisponível no momento', 'error');
        closePlayer();
      }
    }

    function cleanupPlayer() {
      hideOverlays();

      if (notificationTimeout) {
        clearTimeout(notificationTimeout);
        notificationTimeout = null;
      }

      hideRotatePrompt();

      if (window.currentHls) {
        try {
          window.currentHls.stopLoad();
          window.currentHls.detachMedia();
          window.currentHls.destroy();
        } catch (e) {
          console.error('HLS cleanup error:', e);
        }
        window.currentHls = null;
      }

      if (player) {
        try {
          const videoElement = player.tech(true);
          if (videoElement && videoElement.el_) {
            videoElement.el_.pause();
            videoElement.el_.src = '';
            videoElement.el_.load();
          }

          player.pause();
          player.dispose();
        } catch (e) {
          console.error('Player cleanup error:', e);
        }
        player = null;
      }

      if (window.videojs && window.videojs.getPlayers) {
        const players = window.videojs.getPlayers();
        Object.keys(players).forEach(playerId => {
          if (players[playerId]) {
            try {
              players[playerId].pause();
              players[playerId].dispose();
            } catch (e) {
              console.error('Force cleanup error:', e);
            }
          }
        });
      }

      const videoContainer = document.getElementById('videoContainer');
      if (videoContainer) {
        // Clean up both video players and embed iframes
        const embeds = videoContainer.querySelectorAll('iframe');
        embeds.forEach(embed => {
          embed.src = 'about:blank';
          embed.remove();
        });
        videoContainer.innerHTML = '';
      }

      const allAudio = document.querySelectorAll('audio, video');
      allAudio.forEach(element => {
        try {
          if (element.id !== 'clickSound') {
            element.pause();
            element.src = '';
            element.load();
          }
        } catch (e) {
          console.error('Audio cleanup error:', e);
        }
      });

      unlockOrientation();
    }

    async function initializeEmbedPlayer(embedUrl, channelName) {
      try {
        const videoContainer = document.getElementById('videoContainer');
        if (!videoContainer) {
          throw new Error('Video container not found');
        }

        // Create iframe wrapper that will hide embed controls
        const iframeWrapper = document.createElement('div');
        iframeWrapper.className = 'embed-wrapper w-full h-full relative';
        iframeWrapper.style.cssText = `
          width: 100% !important;
          height: 100% !important;
          position: relative;
          overflow: hidden;
          background: black;
        `;

        // Create the iframe
        const iframe = document.createElement('iframe');
        iframe.src = embedUrl;
        iframe.style.cssText = `
          width: 100% !important;
          height: 100% !important;
          border: none;
          position: absolute;
          top: 0;
          left: 0;
          background: black;
        `;
        iframe.setAttribute('allowfullscreen', '');
        iframe.setAttribute('frameborder', '0');

        // Create custom overlay to handle interactions and maintain PrimeCast UI
        const customControls = document.createElement('div');
        customControls.className = 'custom-embed-controls';
        customControls.style.cssText = `
          position: absolute;
          bottom: 0;
          left: 0;
          right: 0;
          height: 60px;
          background: linear-gradient(to top, rgba(0, 0, 0, 0.8) 0%, transparent 100%);
          backdrop-filter: blur(10px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          opacity: 1;
          transition: opacity 0.3s ease;
          color: white;
          font-family: 'Inter', sans-serif;
          font-size: 0.9rem;
        `;
        customControls.innerHTML = `
          <div style="display: flex; align-items: center; gap: 16px;">
            <i class="fas fa-tv" style="color: #667eea;"></i>
            <span>Assistindo ${channelName}</span>
            <div style="width: 8px; height: 8px; background: #ff4444; border-radius: 50%; animation: pulse 2s infinite;"></div>
            <span style="font-size: 0.8rem; color: #ff4444;">AO VIVO</span>
          </div>
        `;

        iframeWrapper.appendChild(iframe);
        iframeWrapper.appendChild(customControls);
        videoContainer.appendChild(iframeWrapper);

        // Set up interaction handlers for mobile/desktop
        let controlsTimeout;
        const showControls = () => {
          customControls.style.opacity = '1';
          
          // Show PrimeCast overlays on interaction, just like other players
          const channelOverlay = document.getElementById('channelInfoOverlay');
          const closeBtnOverlay = document.getElementById('closeBtnOverlay');
          if (channelOverlay) {
            channelOverlay.classList.remove('hidden');
            channelOverlay.style.display = 'block';
            channelOverlay.style.opacity = '1';
          }
          if (closeBtnOverlay) {
            closeBtnOverlay.classList.remove('hidden');
            closeBtnOverlay.style.display = 'flex';
            closeBtnOverlay.style.opacity = '1';
          }
          
          if (controlsTimeout) clearTimeout(controlsTimeout);
          controlsTimeout = setTimeout(() => {
            customControls.style.opacity = '0';
            // Hide overlays after 3 seconds, just like other players
            if (channelOverlay) {
              channelOverlay.style.opacity = '0';
              setTimeout(() => {
                channelOverlay.classList.add('hidden');
                channelOverlay.style.display = 'none';
              }, 300);
            }
            if (closeBtnOverlay) {
              closeBtnOverlay.style.opacity = '0';
              setTimeout(() => {
                closeBtnOverlay.classList.add('hidden');
                closeBtnOverlay.style.display = 'none';
              }, 300);
            }
          }, 3000);
        };

        const hideControls = () => {
          customControls.style.opacity = '0';
          const channelOverlay = document.getElementById('channelInfoOverlay');
          const closeBtnOverlay = document.getElementById('closeBtnOverlay');
          if (channelOverlay) {
            channelOverlay.style.opacity = '0';
            setTimeout(() => {
              channelOverlay.classList.add('hidden');
              channelOverlay.style.display = 'none';
            }, 300);
          }
          if (closeBtnOverlay) {
            closeBtnOverlay.style.opacity = '0';
            setTimeout(() => {
              closeBtnOverlay.classList.add('hidden');
              closeBtnOverlay.style.display = 'none';
            }, 300);
          }
        };

        // Add interaction events
        iframeWrapper.addEventListener('mousemove', showControls);
        iframeWrapper.addEventListener('touchstart', showControls);
        iframeWrapper.addEventListener('click', showControls);

        // Show controls initially
        showControls();

        // Simulate successful loading and set channel as online
        showNotification('Canal Band carregado com sucesso', 'success');
        setChannelStatusByName(channelName, true);
        
        // Show the PrimeCast overlays initially for 3 seconds, like other players
        setTimeout(() => {
          showChannelInfo();
        }, 500);

        console.log('Embed player initialized successfully');
        return Promise.resolve();

      } catch (error) {
        console.error('Error initializing embed player:', error);
        showNotification('Erro ao carregar o embed', 'error');
        throw error;
      }
    }

    async function initializePlayer(url, channelName) {
      try {
        const videoContainer = document.getElementById('videoContainer');
        if (!videoContainer) {
          throw new Error('Video container not found');
        }

        const uniqueId = 'videoPlayer_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        const videoWrapper = document.createElement('div');
        videoWrapper.className = 'video-wrapper w-full h-full';

        const newVideoElement = document.createElement('video-js');
        newVideoElement.id = uniqueId;
        newVideoElement.className = 'vjs-theme-modern video-js vjs-default-skin w-full h-full';
        newVideoElement.setAttribute('controls', '');
        newVideoElement.setAttribute('preload', 'auto');
        newVideoElement.setAttribute('data-setup', '{}');

        newVideoElement.innerHTML = `
          <p class="vjs-no-js">
            Para assistir este vídeo, você precisa ativar o JavaScript, e considere fazer upgrade para um navegador web
            <a href="https://videojs.com/html5-video-support/" target="_blank">que suporte vídeos HTML5</a>.
          </p>
        `;

        videoWrapper.appendChild(newVideoElement);
        videoContainer.appendChild(videoWrapper);

        player = videojs(uniqueId, {
          controls: true,
          fluid: true,
          responsive: true,
          techOrder: ['html5'],
          html5: {
            vhs: {
              overrideNative: true
            }
          },
          sources: [],
          aspectRatio: '16:9',
          controlBar: {
            pictureInPictureToggle: false,
            volumePanel: { inline: true },
            currentTimeDisplay: true,
            timeDivider: false,
            durationDisplay: false,
            progressControl: true,
            qualitySelector: false
          },
          userActions: {
            hotkeys: true,
            doubleClick: false
          },
          inactivityTimeout: 3000,
          playbackRates: [],
          preload: 'auto'
        });

        await new Promise(resolve => {
          player.ready(() => {
            if (Hls.isSupported()) {
              window.currentHls = new Hls({
                enableWorker: true,
                lowLatencyMode: false,
                maxBufferLength: 30,
                startLevel: -1,
                autoLevelEnabled: true,
                abrEwmaFastLive: 3.0,
                abrEwmaSlowLive: 9.0,
                abrEwmaDefaultEstimate: 5000000,
                manifestLoadingTimeOut: 20000,
                manifestLoadingMaxRetry: 3,
                levelLoadingTimeOut: 15000,
                fragLoadingTimeOut: 20000,
                fragLoadingMaxRetry: 4,
                levelLoadingMaxRetry: 2,
                xhrSetup: function(xhr, url) {
                  xhr.withCredentials = false;
                  xhr.timeout = 15000;
                }
              });

              window.currentHls.loadSource(url);
              window.currentHls.attachMedia(player.tech().el());

              window.currentHls.on(Hls.Events.MANIFEST_PARSED, function() {
                console.log('Stream ready, starting playback');
                setChannelStatusByName(channelName, true);

                // Quality selector removed

                player.play().catch(e => {
                  console.log('Autoplay prevented, user interaction required:', e);
                  showNotification('Clique na tela para iniciar', 'info');
                });

                showChannelInfo();
                player.userActive(true);
                updateOrientationPrompt();
              });

              window.currentHls.on(Hls.Events.ERROR, function(event, data) {
                console.error('HLS Error:', data);
                if (data.fatal) {
                  setChannelStatusByName(channelName, false);

                  switch(data.type) {
                    case Hls.ErrorTypes.NETWORK_ERROR:
                      showNotification('Erro de conexão - Canal offline', 'error');
                      break;
                    case Hls.ErrorTypes.MEDIA_ERROR:
                      showNotification('Erro de mídia - Canal offline', 'error');
                      break;
                    default:
                      showNotification('Canal indisponível no momento', 'error');
                      break;
                  }

                  setTimeout(() => {
                    closePlayer();
                  }, 2000);
                }
              });

              window.currentHls.on(Hls.Events.MANIFEST_LOADING, function() {
                showNotification('Carregando canal...', 'info');
              });

              window.currentHls.on(Hls.Events.LEVEL_SWITCHED, function(event, data) {
                const level = window.currentHls.levels[data.level];
                console.log(`Switched to quality level: ${level.height}p, bitrate: ${level.bitrate}`);
              });

            } else if (player.tech().el().canPlayType('application/vnd.apple.mpegurl')) {
              player.src({
                src: url,
                type: 'application/x-mpegURL'
              });

              player.play().catch(e => {
                console.log('Autoplay prevented:', e);
                showNotification('Clique na tela para iniciar', 'info');
              });

              showChannelInfo();
              player.userActive(true);
              updateOrientationPrompt();
            } else {
              showNotification('Navegador não suporta streaming HLS', 'error');
            }

            player.on('error', function(error) {
              console.error('Player error:', error);
              setChannelStatusByName(channelName, false);
              showNotification('Erro na reprodução do canal', 'error');
            });

            player.on('loadeddata', function() {
              console.log('Channel loaded successfully');
              setChannelStatusByName(channelName, true);
              showNotification('Canal carregado com sucesso', 'success');
              showChannelInfo();
              player.userActive(true);
            });

            player.on('waiting', function() {
              console.log('Buffering...');
            });

            player.on('loadstart', function() {
              showNotification('Iniciando carregamento...', 'info');
            });

            const showControls = (event) => {
              if (event.target.id === 'closeBtnOverlay') return;
              console.log('User interaction detected on mobile:', event.type);
              
              // Show PrimeCast overlays and Video.js controls together
              toggleChannelInfo();
              if (player) {
                player.userActive(true);
                player.trigger('useractive');
                console.log('Controls shown via user interaction');
                
                // Hide both PrimeCast overlays and Video.js controls at the same time (3 seconds)
                setTimeout(() => {
                  if (player) {
                    player.userActive(false);
                  }
                  // Also hide PrimeCast overlays at the same time
                  const channelOverlay = document.getElementById('channelInfoOverlay');
                  const closeBtnOverlay = document.getElementById('closeBtnOverlay');
                  if (channelOverlay && !channelOverlay.classList.contains('hidden')) {
                    console.log('Auto-hiding PrimeCast controls after 3 seconds');
                    channelOverlay.style.opacity = '0';
                    closeBtnOverlay.style.opacity = '0';
                    setTimeout(() => {
                      channelOverlay.classList.add('hidden');
                      channelOverlay.style.display = 'none';
                      closeBtnOverlay.classList.add('hidden');
                      closeBtnOverlay.style.display = 'none';
                    }, 300);
                  }
                }, 3000);
              }
            };

            // Add event listeners with better mobile support
            videoWrapper.addEventListener('click', showControls, { passive: false });
            videoWrapper.addEventListener('touchstart', showControls, { passive: false });
            videoWrapper.addEventListener('touchend', showControls, { passive: false });
            videoWrapper.addEventListener('mousemove', showControls, { passive: true });
            
            // Additional mobile-specific events
            videoWrapper.addEventListener('touchmove', showControls, { passive: false });
            
            // Direct player event listeners for mobile compatibility
            player.on('touchstart', function(event) {
              console.log('Player touchstart detected');
              showControls(event);
            });
            
            player.on('touchend', function(event) {
              console.log('Player touchend detected');
              showControls(event);
            });

            resolve();
          });
        });

      } catch (error) {
        console.error('Error initializing player:', error);
        showNotification('Erro ao inicializar o player', 'error');
        closePlayer();
      }
    }

    function setChannelStatusByName(channelName, isOnline) {
      channelStatus.set(channelName.toLowerCase(), isOnline);

      const channels = document.querySelectorAll('.channel-card');
      channels.forEach(channel => {
        const name = channel.dataset.name;
        if (name === channelName.toLowerCase()) {
          setChannelStatus(channel, isOnline);
        }
      });
    }

    function closePlayer() {
      hideOverlays();

      // Remove fullscreen class from body
      document.body.classList.remove('player-active');

      const overlay = document.getElementById('playerOverlay');
      overlay.classList.remove('opacity-100', 'pointer-events-auto');
      overlay.classList.add('opacity-0', 'pointer-events-none');

      cleanupPlayer();

      if (history.state && history.state.playerOpen) {
        history.back();
      }
    }

    function setCategory(category) {
      currentCategory = category;

      document.querySelectorAll('.category-btn').forEach(btn => {
        btn.classList.remove('active', 'bg-gradient-to-r', 'from-blue-600', 'to-purple-600');
        btn.classList.add('bg-gray-800', 'hover:bg-gray-700');
      });

      event.target.classList.add('active', 'bg-gradient-to-r', 'from-blue-600', 'to-purple-600');
      event.target.classList.remove('bg-gray-800', 'hover:bg-gray-700');

      filterChannels();
    }

    function filterChannels() {
      const searchTerm = document.getElementById('searchInput').value.toLowerCase();
      const channels = document.querySelectorAll('.channel-card');
      let visibleCount = 0;

      channels.forEach((channel, index) => {
        const name = channel.dataset.name.toLowerCase();
        const category = channel.dataset.category;

        const matchesSearch = name.includes(searchTerm);
        const matchesCategory = currentCategory === 'todos' || category === currentCategory;

        if (matchesSearch && matchesCategory) {
          channel.style.display = 'block';
          channel.style.animationDelay = `${visibleCount * 0.05}s`;
          visibleCount++;
        } else {
          channel.style.display = 'none';
        }
      });

      if (visibleCount === 0 && searchTerm) {
        showNotification('Nenhum canal encontrado', 'info');
      }
    }

    function showNotification(message, type = 'info') {
      if (notificationTimeout) {
        clearTimeout(notificationTimeout);
        notificationTimeout = null;
      }

      const notification = document.getElementById('notification');
      notification.textContent = message;
      notification.className = `notification fixed top-6 left-1/2 transform -translate-x-1/2 px-6 py-4 z-50 transition-all duration-300 max-w-md text-center opacity-100 pointer-events-none`;

      if (type === 'error') {
        notification.style.background = 'linear-gradient(135deg, rgba(220, 38, 38, 0.9), rgba(153, 27, 27, 0.8))';
      } else if (type === 'success') {
        notification.style.background = 'linear-gradient(135deg, rgba(34, 197, 94, 0.9), rgba(21, 128, 61, 0.8))';
      } else {
        notification.style.background = 'linear-gradient(135deg, rgba(59, 130, 246, 0.9), rgba(37, 99, 235, 0.8))';
      }

      notificationTimeout = setTimeout(() => {
        notification.classList.remove('opacity-100');
        notification.classList.add('opacity-0');
      }, 3000);
    }

    function showChannelInfo() {
      const channelOverlay = document.getElementById('channelInfoOverlay');
      const closeBtnOverlay = document.getElementById('closeBtnOverlay');
      if (!channelOverlay || !closeBtnOverlay) {
        console.error('Channel info or close button not found');
        return;
      }

      console.log('Showing channel info overlay');
      channelOverlay.classList.remove('hidden');
      channelOverlay.style.display = 'block';
      channelOverlay.style.opacity = '1';
      closeBtnOverlay.classList.remove('hidden');
      closeBtnOverlay.style.display = 'flex';
      closeBtnOverlay.style.opacity = '1';

      if (overlayTimeout) {
        clearTimeout(overlayTimeout);
      }

      overlayTimeout = setTimeout(() => {
        console.log('Hiding channel info overlay');
        channelOverlay.style.opacity = '0';
        closeBtnOverlay.style.opacity = '0';
        setTimeout(() => {
          channelOverlay.classList.add('hidden');
          channelOverlay.style.display = 'none';
          closeBtnOverlay.classList.add('hidden');
          closeBtnOverlay.style.display = 'none';
        }, 300);
      }, 3000);
    }

    function toggleChannelInfo() {
      const channelOverlay = document.getElementById('channelInfoOverlay');
      const closeBtnOverlay = document.getElementById('closeBtnOverlay');
      if (!channelOverlay || !closeBtnOverlay) {
        console.error('Channel info or close button not found');
        return;
      }

      // Always show controls on interaction - let the showControls function handle the timing
      console.log('User interaction: showing/maintaining controls');
      channelOverlay.classList.remove('hidden');
      channelOverlay.style.display = 'block';
      channelOverlay.style.opacity = '1';
      closeBtnOverlay.classList.remove('hidden');
      closeBtnOverlay.style.display = 'flex';
      closeBtnOverlay.style.opacity = '1';

      // Clear any existing timer - the showControls function will handle auto-hide
      if (overlayTimeout) {
        clearTimeout(overlayTimeout);
        overlayTimeout = null;
      }
    }

    function playClickSound() {
      try {
        const sound = document.getElementById('clickSound');
        sound.currentTime = 0;
        sound.play().catch(() => {});
      } catch (error) {}
    }

    let lastScroll = 0;
    window.addEventListener('scroll', () => {
      const currentScroll = window.pageYOffset;
      const header = document.querySelector('.header-glass');

      if (currentScroll > lastScroll && currentScroll > 100) {
        header.style.transform = 'translateY(-100%)';
      } else {
        header.style.transform = 'translateY(0)';
      }

      lastScroll = currentScroll;
    });
  </script>
</body>
</html>
